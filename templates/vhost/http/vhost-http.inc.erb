# generated by puppet from apache/templates/vhost/http/vhost-http.inc.erb
# used by apache/manifests/vhost/http.pp

<VirtualHost *:80>

    ServerName <%= @server_name %>
<% if @server_aliases -%>
<% @server_aliases.each do |server_alias| -%>
    ServerAlias <%= server_alias %>
<% end -%>
<% end -%>

<% if @default_include && !@default_include.empty? -%>
    Include conf.d/<%= @default_include %>
<% else -%>
#    FIXME: thomas: separate out document_root option
#    DocumentRoot /var/www/html
<% end -%>

<% if @includes -%>
    # Additional config snippets from includes
<% @includes.each do |file| -%>
<% if file && !file.empty? -%>
    Include conf.d/<%= file %>
<% end -%>
<% end -%>
<% end -%>

    CustomLog <%= @log_dir %>/<%= @name %>_access_log combined
    CustomLog <%= @log_dir %>/<%= @name %>-access_timed_log timed_combined
    ErrorLog <%= @log_dir %>/<%= @name %>_error_log

</VirtualHost>
